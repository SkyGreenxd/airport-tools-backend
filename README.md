# Airport Tools Vision Backend

---

"**Airport Tools Vision**" ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —É—á—ë—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏—Ö —Å–¥–∞—á–µ –∏ –≤—ã–¥–∞—á–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è. 

–°–∏—Å—Ç–µ–º–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –Ω–∞ —Å—Ç–æ–ª–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Å–≤–µ—Ä—è–µ—Ç –∏—Ö —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º. –°–µ—Ä–≤–∏—Å –º–æ–∂–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã.

## **üöÄ–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**

1. –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç. –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ **compvis** –∏ **frontend**

2. –î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å **.env** —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏. –î–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –Ω—É–∂–µ–Ω compvis, s3 –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ML —Å–µ—Ä–≤–∏—Å–∞. –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–º–µ–Ω—è—Ç—å –±–µ–∑ –ø—Ä–∏—á–∏–Ω
    ```
    ML_PORT=8000
    ML_HOST=0.0.0.0
    ```
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥–∞. –í–º–µ—Å—Ç–æ app –≤–∞–º –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –±—ç–∫—ç–Ω–¥. –≠—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–π –∞–¥—Ä–µ—Å, —á—Ç–æ–±—ã –≤–µ–± –±—Ä–∞—É–∑–µ—Ä –º–æ–≥ –∫ –Ω–µ–º—É –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è FRONTEND_PORT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–∫–µ—Ä–æ–º –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ frontend.
   ```
   FRONTEND_PORT=frontend_port
   BACKEND_URL=http://app:port
   ```
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ç–∫—ç–Ω–¥ —Å–µ—Ä–≤–µ—Ä–∞. HTTP_PORT –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥–æ–º —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç –¥–ª—è –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –°—Å—ã–ª–∫–∞ frontend:port –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ–π –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞. –ü—Ä–∏ —Å–±–æ—Ä–∫–µ —Å –ø–æ–º–æ—â—å—é Docker compose –∞–¥—Ä–µ—Å –¥–ª—è ml –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ ml:1234, –≥–¥–µ 1234 –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–∏—Å–∞.
   ```
    FRONTEND_URL=http://frontend:port
    ML_SERVICE_URL=http://ml:port/api/v1
    HTTP_PORT=port
    HTTP_READ_TIMEOUT=10
    HTTP_WRITE_TIMEOUT=10
   ```
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ s3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ. –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è S3 –æ—Ç –Ø–Ω–¥–µ–∫—Å–∞.
   ```
    BUCKET_NAME=airport-tools-images
    AWS_ACCESS_KEY_ID=id
    AWS_SECRET_ACCESS_KEY=secret
    AWS_ENDPOINT_URL=https://storage.yandexcloud.net
    AWS_REGION=ru-central1-d
   ```
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–æ–¥–µ–ª–∏.
    ```
    CONFIDENCE=0.70
    COSINE_SIM=0.70
    ```
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î. –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL.
   ```
    DB_URL=
    POSTGRES_HOST=
    POSTGRES_PORT=
    POSTGRES_USER=
    POSTGRES_PASSWORD=
    POSTGRES_DB=
   ```
   
3. –†–∞—Å–∫–æ–º–º–∏—Ç–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ docker-compose.yml

4. –ù–∞–ø–∏—Å–∞—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª `docker-compose up --build` –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è **backend** –∏ **compvis** —Å–µ—Ä–≤–∏—Å, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ **frontend**.

---

## API
API –æ–ø–∏—Å–∞–Ω —á–µ—Ä–µ–∑ Swagger. –î–æ—Å—Ç—É–ø –ø–æ url: http://localhost:8080/api/v1/swagger/index.html#/

---
## Requirements

- **Go**: 1.24.5\+

- **PostgreSQL:** 17.4\+

- **S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** –∏–ª–∏ –∏–Ω–æ–π —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π